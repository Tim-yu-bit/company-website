<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç–¯ç‹‚åæ§½ - ç‰›é©¬ä¹‹å®¶</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .tuacao-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 100px 20px 60px;
            text-align: center;
            margin-top: 60px;
        }

        .tuacao-header h2 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .tuacao-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .tuacao-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        .topic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .topic-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .topic-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-color: #f5576c;
        }

        .topic-card.active {
            border-color: #f5576c;
            background: linear-gradient(135deg, #fff5f7 0%, #fff 100%);
        }

        .topic-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .topic-card h3 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 10px;
        }

        .topic-card p {
            color: #666;
            line-height: 1.6;
        }

        .comment-section {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-top: 40px;
        }

        .comment-section h3 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #f5576c;
        }

        .notice-box {
            background: #e3f2fd;
            border-left: 5px solid #2196F3;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 40px;
            color: #1565C0;
        }

        .notice-box h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notice-box ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        /* è¯„è®ºè¡¨å• */
        .comment-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #f5576c;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .submit-btn {
            background: #f5576c;
            color: white;
            padding: 12px 40px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .submit-btn:hover {
            background: #e04560;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.3);
        }

        /* è¯„è®ºåˆ—è¡¨ */
        .comments-list {
            margin-top: 30px;
        }

        .comment-item {
            background: #fff;
            border: 2px solid #f0f0f0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }

        .comment-item:hover {
            border-color: #f5576c;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
        }

        .comment-author {
            font-weight: bold;
            color: #f5576c;
            font-size: 1.1rem;
        }

        .comment-time {
            color: #999;
            font-size: 0.9rem;
        }

        .comment-content {
            color: #333;
            line-height: 1.8;
            font-size: 1rem;
        }

        .no-comments {
            text-align: center;
            color: #999;
            padding: 40px;
            font-size: 1.1rem;
        }

        .local-notice {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            color: #856404;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <h1>ç‰›é©¬ä¹‹å®¶</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">é¦–é¡µ</a></li>
                <li><a href="index.html#about">å…³äºæˆ‘ä»¬</a></li>
                <li><a href="index.html#services">æœåŠ¡é¡¹ç›®</a></li>
                <li><a href="games.html">ä¼‘é—²å¨±ä¹</a></li>
                <li><a href="tuacao.html" class="active">ç–¯ç‹‚åæ§½</a></li>
                <li><a href="index.html#contact">è”ç³»æˆ‘ä»¬</a></li>
            </ul>
            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- é¡µé¢æ ‡é¢˜ -->
    <section class="tuacao-header">
        <h2>ğŸ’­ ç–¯ç‹‚åæ§½</h2>
        <p>ç•…æ‰€æ¬²è¨€çš„è‡ªç”±ç©ºé—´ï¼Œåˆ†äº«ä½ çš„æƒ³æ³•å’Œè§‚ç‚¹</p>
    </section>

    <!-- åæ§½å†…å®¹ -->
    <div class="tuacao-container">
        <!-- ä½¿ç”¨æç¤º -->
        <div class="notice-box">
            <h4>ğŸ“¢ ä½¿ç”¨è¯´æ˜</h4>
            <ul>
                <li>æ— éœ€æ³¨å†Œç™»å½•ï¼ŒåŒ¿åå³å¯å‘è¡¨åæ§½</li>
                <li>ç‚¹å‡»ä¸‹æ–¹ä»»æ„è¯é¢˜å¡ç‰‡ï¼Œåˆ‡æ¢è®¨è®ºä¸»é¢˜</li>
                <li>è¯·éµå®ˆç¤¾åŒºè§„èŒƒï¼Œæ–‡æ˜å‘è¨€ï¼Œç†æ€§è®¨è®º</li>
                <li>è¯„è®ºä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ï¼Œæ¢è®¾å¤‡åä¸å¯è§</li>
            </ul>
        </div>

        <!-- è¯é¢˜åˆ†ç±» -->
        <div class="topic-grid">
            <div class="topic-card" onclick="loadTopic('work', 'èŒåœºé‚£äº›äº‹', this)">
                <div class="topic-icon">ğŸ’¼</div>
                <h3>èŒåœºé‚£äº›äº‹</h3>
                <p>å·¥ä½œä¸­çš„é…¸ç”œè‹¦è¾£ï¼ŒèŒåœºå¿ƒå¾—åˆ†äº«ï¼Œåæ§½è€æ¿åŒäº‹ï¼Œäº¤æµèŒä¸šå‘å±•</p>
            </div>

            <div class="topic-card" onclick="loadTopic('life', 'ç”Ÿæ´»åæ§½', this)">
                <div class="topic-icon">ğŸ </div>
                <h3>ç”Ÿæ´»åæ§½</h3>
                <p>æ—¥å¸¸ç”Ÿæ´»è¶£äº‹ï¼Œè¡£é£Ÿä½è¡Œè§é—»ï¼Œç¤¾ä¼šç°è±¡è§‚å¯Ÿï¼Œç”Ÿæ´»å°ç¡®å¹¸åˆ†äº«</p>
            </div>

            <div class="topic-card" onclick="loadTopic('tech', 'ç§‘æŠ€æ•°ç ', this)">
                <div class="topic-icon">ğŸ’»</div>
                <h3>ç§‘æŠ€æ•°ç </h3>
                <p>æœ€æ–°ç§‘æŠ€äº§å“è¯„æµ‹ï¼Œæ•°ç è®¾å¤‡ä½¿ç”¨å¿ƒå¾—ï¼Œè½¯ä»¶å·¥å…·æ¨èï¼ŒæŠ€æœ¯æ¢è®¨</p>
            </div>

            <div class="topic-card" onclick="loadTopic('car', 'æ±½è½¦è¯é¢˜', this)">
                <div class="topic-icon">ğŸš—</div>
                <h3>æ±½è½¦è¯é¢˜</h3>
                <p>æ–°èƒ½æºæ±½è½¦è®¨è®ºï¼Œè´­è½¦ç”¨è½¦ç»éªŒï¼Œæ±½è½¦è¡Œä¸šåŠ¨æ€ï¼Œç†æƒ³æ±½è½¦ä¸“é¢˜</p>
            </div>

            <div class="topic-card" onclick="loadTopic('finance', 'æŠ•èµ„ç†è´¢', this)">
                <div class="topic-icon">ğŸ’°</div>
                <h3>æŠ•èµ„ç†è´¢</h3>
                <p>è‚¡å¸‚è¡Œæƒ…åˆ†æï¼ŒæŠ•èµ„ç»éªŒäº¤æµï¼Œç†è´¢å¿ƒå¾—åˆ†äº«ï¼Œé£é™©æç¤ºè®¨è®º</p>
            </div>

            <div class="topic-card active" onclick="loadTopic('free', 'è‡ªç”±è®¨è®º', this)">
                <div class="topic-icon">ğŸ¯</div>
                <h3>è‡ªç”±è®¨è®º</h3>
                <p>ä»»ä½•æƒ³è¯´çš„è¯é¢˜ï¼Œå¼€æ”¾çš„è®¨è®ºç©ºé—´ï¼Œä¸è®¾é™åˆ¶çš„æ€æƒ³ç¢°æ’</p>
            </div>
        </div>

        <!-- è¯„è®ºåŒº -->
        <div class="comment-section">
            <h3 id="topic-title">ğŸ’­ è‡ªç”±è®¨è®ºåŒº</h3>

            <div class="local-notice">
                ğŸ’¡ æç¤ºï¼šè¯„è®ºæ•°æ®ä¿å­˜åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ°ï¼Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜ä¼šä¸¢å¤±è¯„è®ºè®°å½•ã€‚
            </div>

            <!-- è¯„è®ºè¡¨å• -->
            <div class="comment-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="nickname">æ˜µç§°ï¼ˆé€‰å¡«ï¼‰</label>
                        <input type="text" id="nickname" placeholder="ç•™ç©ºåˆ™æ˜¾ç¤ºä¸º åŒ¿åç”¨æˆ·">
                    </div>
                    <div class="form-group">
                        <label for="email">é‚®ç®±ï¼ˆé€‰å¡«ï¼Œä¸å…¬å¼€ï¼‰</label>
                        <input type="email" id="email" placeholder="é€‰å¡«ï¼Œä»…ç”¨äºæ˜¾ç¤ºå¤´åƒ">
                    </div>
                </div>
                <div class="form-group">
                    <label for="content">åæ§½å†…å®¹ *</label>
                    <textarea id="content" placeholder="è¯´å‡ºä½ çš„æƒ³æ³•..." required></textarea>
                </div>
                <button class="submit-btn" onclick="submitComment()">ğŸ’¬ å‘è¡¨åæ§½</button>
            </div>

            <!-- è¯„è®ºåˆ—è¡¨ -->
            <div class="comments-list" id="commentsList">
                <div class="no-comments">æš‚æ— è¯„è®ºï¼Œæ¥å‘è¡¨ç¬¬ä¸€æ¡å§ï¼</div>
            </div>
        </div>
    </div>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 ç‰›é©¬ä¹‹å®¶. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        let currentTopic = 'free';

        const topicNames = {
            'work': 'èŒåœºé‚£äº›äº‹',
            'life': 'ç”Ÿæ´»åæ§½',
            'tech': 'ç§‘æŠ€æ•°ç ',
            'car': 'æ±½è½¦è¯é¢˜',
            'finance': 'æŠ•èµ„ç†è´¢',
            'free': 'è‡ªç”±è®¨è®º'
        };

        // åŠ è½½è¯é¢˜
        function loadTopic(topicId, topicName, element) {
            // ç§»é™¤æ‰€æœ‰activeç±»
            document.querySelectorAll('.topic-card').forEach(card => {
                card.classList.remove('active');
            });

            // æ·»åŠ activeç±»åˆ°å½“å‰å¡ç‰‡
            element.classList.add('active');

            // æ›´æ–°æ ‡é¢˜
            document.getElementById('topic-title').innerHTML = `ğŸ’­ ${topicName}`;

            // åˆ‡æ¢è¯é¢˜
            currentTopic = topicId;

            // åŠ è½½è¯¥è¯é¢˜çš„è¯„è®º
            loadComments();
        }

        // æäº¤è¯„è®º
        function submitComment() {
            const nickname = document.getElementById('nickname').value.trim() || 'åŒ¿åç”¨æˆ·';
            const content = document.getElementById('content').value.trim();

            if (!content) {
                alert('è¯·è¾“å…¥åæ§½å†…å®¹ï¼');
                return;
            }

            // åˆ›å»ºè¯„è®ºå¯¹è±¡
            const comment = {
                id: Date.now(),
                nickname: nickname,
                content: content,
                timestamp: new Date().toLocaleString('zh-CN'),
                topic: currentTopic
            };

            // è·å–ç°æœ‰è¯„è®º
            let comments = JSON.parse(localStorage.getItem('tuacao_comments') || '[]');

            // æ·»åŠ æ–°è¯„è®ºåˆ°å¼€å¤´
            comments.unshift(comment);

            // ä¿å­˜åˆ°localStorage
            localStorage.setItem('tuacao_comments', JSON.stringify(comments));

            // æ¸…ç©ºè¡¨å•
            document.getElementById('content').value = '';

            // é‡æ–°åŠ è½½è¯„è®º
            loadComments();

            // æç¤º
            alert('âœ… å‘è¡¨æˆåŠŸï¼');
        }

        // åŠ è½½è¯„è®º
        function loadComments() {
            const commentsList = document.getElementById('commentsList');
            const allComments = JSON.parse(localStorage.getItem('tuacao_comments') || '[]');

            // ç­›é€‰å½“å‰è¯é¢˜çš„è¯„è®º
            const topicComments = allComments.filter(c => c.topic === currentTopic);

            if (topicComments.length === 0) {
                commentsList.innerHTML = '<div class="no-comments">æš‚æ— è¯„è®ºï¼Œæ¥å‘è¡¨ç¬¬ä¸€æ¡å§ï¼</div>';
                return;
            }

            // æ¸²æŸ“è¯„è®º
            let html = '';
            topicComments.forEach(comment => {
                html += `
                    <div class="comment-item">
                        <div class="comment-header">
                            <span class="comment-author">${escapeHtml(comment.nickname)}</span>
                            <span class="comment-time">${comment.timestamp}</span>
                        </div>
                        <div class="comment-content">${escapeHtml(comment.content)}</div>
                    </div>
                `;
            });

            commentsList.innerHTML = html;
        }

        // è½¬ä¹‰HTMLé˜²æ­¢XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // é¡µé¢åŠ è½½æ—¶åŠ è½½è¯„è®º
        window.addEventListener('DOMContentLoaded', function() {
            loadComments();

            // å›è½¦å‘é€ï¼ˆCtrl+Enterï¼‰
            document.getElementById('content').addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'Enter') {
                    submitComment();
                }
            });
        });
    </script>
</body>
</html>
